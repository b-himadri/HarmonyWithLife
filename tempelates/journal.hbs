<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Journal Log</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<style>


*{
  font-family: Garamond;
}
.header-stick {
    position: fixed;
    width: 100%;
    z-index: 6;
}

.header {
    display: flex;
    width: 100%;
    height: 90px;
    /* Adjust the height as needed */
    /* background-color: rgba(255, 255, 255, 0.45); */
    background-color: rgb(230, 226, 219);;
    /* background-color: #D0D3C5; */
    padding-top: 0.5rem;
    padding-bottom: 0.5rem;
    justify-content: space-between;
}

.header>div {
    height: 100%;
    display: flex;
    align-items: center;
}

.nav-bar {
    width: 24%;
    justify-content: flex-start;
    padding-left: 2rem;
}

.nav-icon {

    cursor: pointer;
    color:#2c2e48;
    font-size: 30px;
    width: 40px;
}



.nav-menu {
    display: none;
    position: absolute;
    background-color: #2c2e48;
    width: 200px;
    top: 60px;
    border-radius: 5px;
    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.7);
    box-shadow: 0 2px 5px #2c2e48 rgba(0, 0, 0, 0.2);
    max-height: 0; 
   overflow: hidden;
    transition: max-height 0.7s ease; 
}

.nav-menu.show {
   
        display: block;
        max-height: 300px; 
    
    
}

.nav-menu a {
    color: white;
    text-decoration: none;
    display: block;
    padding: 10px;
     margin-bottom: 5px;
}




.nav-menu a:hover {
    background-color: rgb(148, 148, 148);
    /* Gray on hover */
} 






.logo {
    width: 50%;

    display: flex;
    justify-content: center;
    /* Align the content to the center */
}

.logo h1 {
    /* color: #D0D3C5; */
    color:#2c2e48;
    font-size: 2.3rem;
    margin: 0;
    /* font-family: 'Dancing Script', cursive; */

}

.get-started-div-header {
    width: 26%;
    margin: 0;

    display: flex;
    /* justify-content: flex-end;  */
    justify-content: center;
    /* padding-right: 2rem;  */
}

.get-started {
    height: 3.5rem;
    width: 50%;
    /* border: 2px solid black; */
    /* border-color: #59c174; */
    border-radius: 1.3rem;
    /* background-color: rgb(249, 249, 149); */
    font-size: 1rem;
    /* background-color: #59c174; */
    color: #2c2e48;
    background-color: palevioletred;
    border-color: transparent;
}


.get-started:hover {
    cursor: pointer;
    transition: background-color 0.3s ease;
    color: #2c2e48;
    letter-spacing: 0.06rem;
    width: 53%;
    box-shadow: transparent;
    background-color: rgb(206, 102, 136);



}


   body {
    /* font-family: Arial, sans-serif; */
    margin: 0;
    padding: 0;
    /* background-color: rgb(230, 226, 219); */
      background-color: #427478;
    color: #D0D3C5; /* Light text */
  }

  .container {
    max-width: 1000px;
    margin: 0px auto 20px auto;
    padding: 20px;
    /* background-color: #568185; Dark container background */
    background-color: #3a6569;
    border-radius: 8px;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  h2 {
    margin-top: 100px;
    text-align: center;
    color: #D0D3C5;
   
    margin-bottom: 3rem;
    font-size: 50px;
    /* font-family: 'Dancing Script', cursive; */
  }

  form {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-bottom: 20px;
    width: 100%;
  }

  label {
    font-size: 24px;
    margin-bottom: 10px;
     color: #D0D3C5; 
     /* font-family: 'Dancing Script', cursive; */
  }

  #datetime {
    /* width: 70%; */
    margin-bottom: 20px;
    font-size: 15px;
    background-color: rgb(230, 226, 219);
    

  }

  #fullEntry{
    
    color: #2c2e48;
  }

  #entry {
    width: 70%;
    height: 150px;
    margin-bottom: 20px;
    font-size: 16px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    background-color: rgb(230, 226, 219);
  }

  button[type="submit"] {
    padding: 10px 20px;
    font-size: 18px;
    background-color: palevioletred; /* Dark red button */
    color: rgb(251, 239, 217);
    border: 1px solid rgb(251, 239, 217);
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }

  button[type="submit"]:hover {
    background-color: rgb(186, 98, 127); /* Dark red hover */
  }

  #entries {
    /* max-width: 600px; */
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
    letter-spacing: 1px;
    line-height: 20px;
    
    /* color: black; */
  }

  .entry {
     width: calc(45% - 20px);
    
     min-width: 270px;
    padding: 20px;
    border: 1px solid rgb(251, 239, 217);
    border-radius: 8px;
    background-color:rgb(230, 226, 219); /* Dark entry background */
    display: flex;
    flex-direction: column;
    gap: 10px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    min-height: 100px;
    /* justify-content: space-between; */
    position: relative;
  
  }

  .entry-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    color: #2c2e48;
    /* background-color:; */
    /* color: white; */
  }

  .date-time {
    display: flex;
    flex-direction: column;
  }

  .date-value {
    font-size: 16px;
    color: black; /* Light text */
    font-weight: 800;
  }

  .entry-content {
    font-size: 16px;
    /* color: #D0D3C5; Light text/ */
    /* color: white; */
    color: black;
    margin-bottom: 25px;
    max-width: 600px;
    /* max-height: 500px; */
    word-wrap: break-word;
    
  }

  .entry-actions {
    display: flex;
    width: 200px;
    /* justify-content: space-evenly; */
    align-items: center;
    position: absolute;
    bottom: 0;
    gap: 40px;
    margin-bottom: 5px;
    
  }

  .entry-actions button {
    font-size: 17px;
    padding: 5px 10px;
    cursor: pointer;
    transition: background-color 0.3s ease;
    background-color: palevioletred;
    color: rgb(251, 239, 217) ;
    border: 1px solid  rgb(251, 239, 217);
    border-radius: 20px;
  
  }

  .entry-actions button:hover {
    background-color: rgb(186, 98, 127); /* Dark red hover */
  }

  .modal {
    display: none;
    position: fixed;
    z-index: 1;
    left: 0;
    top: 0;
    width: 100%;
    max-width: 1600px;
    height: 100%;
    overflow: auto;
    /* background-color: rgba(0, 0, 0, 0.5); */
    background-color: rgb(251, 239, 217);
  }

  .modal-content {
    background-color: #fefefe;
    margin: 15% auto;
    padding: 20px;
    border: 1px solid #888;
    width: 80%;
    border-radius: 8px;
  }

  .close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
  }

  .close:hover,
  .close:focus {
    color: black;
    text-decoration: none;
    cursor: pointer;
  }

  .font-2{
    font-size: 1rem;
  }

  /* Background color of the calendar */
#datetime::-webkit-calendar-picker-indicator {
    background-color: #2c2e48; /* Change the background color of the calendar */
}

</style>
</head>
<body>



  <div class="header-stick">
    <div class="header">
        <div class="nav-bar">
            <div class="nav-icon" onclick="toggleNavMenu()">
                â˜°
            </div>
            <div id="navMenu" class="nav-menu">
                <!-- Content of your navigation menu goes here -->
                <a href="/home">Home</a><br>
                <a href="/expense">Expense</a><br>
                <a href="/diet">Diet</a><br>
                <a href="/journal">Journal</a><br>
               <a href="/meditation">Meditation</a>

            </div>

        </div>
        <div class="logo">
            <h1>HarmonyWithLife</h1>
        </div>
        <div class="get-started-div-header">
            <button class="get-started" onclick="window.location.href='/signup'">Get Started</button>
        </div>
    </div>
</div>


<div class="container">
  <h2>Journal Log</h2>
  
  <form id="journalForm">
    <label for="datetime " class="font-2"></label>
    <input type="datetime-local" id="datetime" name="datetime" required><br><br>
    <label for="entry">Let your thoughts in:</label><br>
    <textarea id="entry" name="entry" rows="4" cols="50" required></textarea><br><br>
    <button type="submit">Save Entry</button>
  </form>

  <div id="entries">
    <!-- Entries will be dynamically added here -->
  </div>

  <!-- Modal to display full entry -->
  <div id="myModal" class="modal">
    <div class="modal-content">
      <h3 style="color: #2c2e48;">Past Entries
      </h3>
      <span class="close"></span>
      <div id="fullEntry"></div>
    </div>
  </div>
</div>

<script>
  // Function to save entry to local storage
function saveEntry(datetime, entry) {
    var entries = JSON.parse(localStorage.getItem("entries")) || [];
    entries.push({ datetime: datetime, entry: entry });
    localStorage.setItem("entries", JSON.stringify(entries));
  }
  
  // Function to load entries from local storage
  function loadEntries() {
    var entries = JSON.parse(localStorage.getItem("entries")) || [];
    var entriesContainer = document.getElementById("entries");
    entriesContainer.innerHTML = ""; // Clear existing entries
    
    entries.forEach(function(item, index) {
      var entryElement = document.createElement("div");
      entryElement.classList.add("entry");

      var entryHeader = document.createElement("div");
      entryHeader.classList.add("entry-header");

      var dateElement = document.createElement("div");
      dateElement.classList.add("date-time");
      dateElement.innerHTML = `
  
        <span class="date-value">${new Date(item.datetime).toLocaleString()}</span>
      `;
      entryHeader.appendChild(dateElement);

      var entryContent = document.createElement("div");
      entryContent.classList.add("entry-content");
      entryContent.textContent = item.entry;
      entryElement.appendChild(entryHeader);
      entryElement.appendChild(entryContent);

      var entryActions = document.createElement("div");
      entryActions.classList.add("entry-actions");

      var openButton = document.createElement("button");
      openButton.textContent = "Open";
      openButton.addEventListener("click", function() {
        openModal(item.entry);
      });
      entryActions.appendChild(openButton);

      var editButton = document.createElement("button");
      editButton.textContent = "Edit";
      editButton.addEventListener("click", function() {
        editEntry(index);
      });
      entryActions.appendChild(editButton);

      var deleteButton = document.createElement("button");
      deleteButton.textContent = "Delete";
      deleteButton.addEventListener("click", function() {
        deleteEntry(index);
      });
      entryActions.appendChild(deleteButton);

      entryElement.appendChild(entryActions);
      entriesContainer.appendChild(entryElement);
    });
  }
  
  // Load entries when the page is loaded
  window.onload = function() {
    loadEntries();
  };
  
  // Add event listener to form submission
  document.getElementById("journalForm").addEventListener("submit", function(event) {
    event.preventDefault();
    
    var datetime = document.getElementById("datetime").value;
    var entry = document.getElementById("entry").value;
    
    saveEntry(datetime, entry);
    loadEntries(); // Reload entries to display the new one
    
    // Clear the form fields
    document.getElementById("datetime").value = "";
    document.getElementById("entry").value = "";
  });

  // Modal functionality
  var modal = document.getElementById("myModal");
  var fullEntryDiv = document.getElementById("fullEntry");
  var span = document.getElementsByClassName("close")[0];

  function openModal(entry) {
    modal.style.display = "block";
    fullEntryDiv.innerHTML = entry;
  }

  span.onclick = function() {
    modal.style.display = "none";
  }

  window.onclick = function(event) {
    if (event.target == modal) {
      modal.style.display = "none";
    }
  }

  // Edit and Delete functionality
  function editEntry(index) {
    var entries = JSON.parse(localStorage.getItem("entries")) || [];
    var entryToEdit = entries[index];
    document.getElementById("datetime").value = entryToEdit.datetime;
    document.getElementById("entry").value = entryToEdit.entry;
    entries.splice(index, 1);
    localStorage.setItem("entries", JSON.stringify(entries));
    loadEntries();
  }

  function deleteEntry(index) {
    var entries = JSON.parse(localStorage.getItem("entries")) || [];
    entries.splice(index, 1);
    localStorage.setItem("entries", JSON.stringify(entries));
    loadEntries();
  }



  $(document).ready(function () {
                var $navIcon = $(".nav-icon");
                var $navMenu = $("#navMenu");

                // Function to show the navigation menu
                function showNavMenu() {
                    $navMenu.addClass("show");
                    // $navIcon.addClass("show");
                    $navMenu.css("max-height", $navMenu[0].scrollHeight + "px");
                }

                // Function to hide the navigation menu
                function hideNavMenu() {
                    $navMenu.removeClass("show");
                    // $navIcon.removeClass("show");
                    $navMenu.css("max-height", "0");
                }

                // Event listener for clicking on the navigation icon
                $navIcon.on("click", function () {
                    showNavMenu();
                });

                // Event listener for moving out of the navigation menu
                $navMenu.on("mouseleave", function () {
                    hideNavMenu();
                });

                // Event listener for moving out of the navigation icon
                $navIcon.on("mouseleave", function () {
                    hideNavMenu();
                });

                // Event listener for moving over the navigation menu
                $navMenu.on("mouseenter", function () {
                    showNavMenu();
                });

                // Event listener for moving over the navigation icon
                $navIcon.on("mouseenter", function () {
                    showNavMenu();
                });

            });


            function toggleNavMenu() {
                var $navMenu = $("#navMenu");
                if ($navMenu.hasClass("show")) {
                    hideNavMenu();
                } else {
                    showNavMenu();
                }
            }

            function showNavMenu() {
                $(".nav-menu").addClass("show");
            }

            function hideNavMenu() {
                $(".nav-menu").removeClass("show");
            }
</script>

</body>
</html>
